<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{admin/admin_base::layout(~{::body})}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="/css/style.css">
    <section class="listings">

      <h1 class="heading">List of properties</h1>
      <div class="box-container">
        <th:block th:each="post, p:${propertyList}">
          <div class="box">
            <div class="admin">
              <h3>[[${post.postedBy.name[0]}]]</h3>
              <div>
                <p>[[${post.postedBy.name}]]</p>
                <span>[[${post.createdAt}]]</span>
              </div>
            </div>
            <div class="thumb">
              <p class="total-images"><i class="far fa-image"></i><span>[[${post.images.size}]]</span></p>
              <p class="type"><span>[[${post.propertyType}]]</span><span>[[${post.serviceType}]]</span></p>
                <img th:if="${post.images != null and post.images.size() > 0}"
                     th:src="@{'/images/' + ${post.images[0].url}}"
                     alt="Post Image">
            </div>
            <h3 class="name">[[${post.title}]]</h3>
            <p class="location"><i class="fas fa-map-marker-alt"></i><span>[[${post.address}]]</span></p>
            <div class="flex">
              <p><i class="fas fa-bed"></i><span>[[${post.bedrooms}]]</span></p>
              <p><i class="fas fa-bath"></i><span>[[${post.bathrooms}]]</span></p>
              <p><i class="fas fa-maximize"></i><span>[[${post.size}]] sqft</span></p>
            </div>
            <a th:href="@{'/admin/view_property?pid=' + ${post.id}}" class="btn">view property</a>
          </div>
        </th:block>
      </div>
    </section>
</body>
</html>